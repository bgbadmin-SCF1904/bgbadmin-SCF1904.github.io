"use strict";(globalThis["webpackChunkquasar_bgb_matchmanagement"]=globalThis["webpackChunkquasar_bgb_matchmanagement"]||[]).push([[615],{2417:(a,t,e)=>{e.d(t,{BE:()=>c,Bk:()=>n,DL:()=>m,KU:()=>l,Np:()=>s,O0:()=>h,SJ:()=>i,UP:()=>o,WV:()=>r,ib:()=>p,wX:()=>d,wg:()=>u});const s=!0,l="BGB";let i="https://script.google.com/macros/s/AKfycbykN8AZJ5V6fwH_BZ67riLGf8znBsxfLXzPWMOtr9Rwdor42jNcF7m1UM4XMvVoiF1rbQ/exec",n="https://script.google.com/macros/s/AKfycbydoX9quJr-aOj7_v3gnt6Ku__u29EnmKIaT6rgyZ3Ow4qzZ9eyu-sMsijteqvZAQox4Q/exec",o="https://script.google.com/macros/s/AKfycbztkmFB9AKk5FaCH9fquMqFXx76pBp9b7ocNMHIcPAMcKcwH4hgOROHsK-1ApfL3APUuQ/exec",c="https://script.google.com/macros/s/AKfycbwi7JYV_w0u7KoYw-CUio5HWGrLPvIxRqHybNn4DdgQfOLeGfm3Ufb3IlunmgQq-zFV/exec",r="https://script.google.com/macros/s/AKfycbyj3smDP7m9csheRg0c6n00u0Rb2CczULz8C8lAibkv_gBjiqfkfOZdOP9etSVMDMtL/exec";const m="https://script.google.com/macros/s/AKfycbz0cWknDb0ACTYRUCqUE9cIOkU2GV460W8Mhz6VyDKELQc9cLbjnwGrP3wRwlRHJnYBEA/exec?sh=BGB";i+="?sh="+l,n+="?sh="+l,o+="?sh="+l,c+="?sh="+l,r+="?sh="+l;const d=function(a,t){return t?"statics/avatars/"+l+"/"+a+".png":"statics/avatars/collection/"+a+".png"},u=function(a){return a.toLowerCase().indexOf("fest")>=0||a.toLowerCase().indexOf("party")>=0||a.toLowerCase().indexOf("anlass")>=0||a.toLowerCase().indexOf("geburtstag")>=0||a.toLowerCase().indexOf("event")>=0?"statics/teams/Event.png":a.toLowerCase().indexOf("test")>=0?"statics/teams/Test.png":"statics/teams/Freiburg.png"},p=function(a){return a.toLowerCase().indexOf("arminia")>=0?"statics/teams/Arminia.png":a.toLowerCase().indexOf("augsburg")>=0?"statics/teams/Augsburg.png":a.toLowerCase().indexOf("leverkusen")>=0?"statics/teams/Bayer_Leverkusen.png":a.toLowerCase().indexOf("bayern")>=0||a.toLowerCase().indexOf("münchen")>=0?"statics/teams/Bayern_München.png":a.toLowerCase().indexOf("bochum")>=0?"statics/teams/Bochum.png":a.toLowerCase().indexOf("dortmund")>=0?"statics/teams/Borussia_Dortmund.png":a.toLowerCase().indexOf("gladbach")>=0?"statics/teams/Borussia_Mönchengladbach.png":a.toLowerCase().indexOf("darmstadt")>=0?"statics/teams/Darmstadt.png":a.toLowerCase().indexOf("braunschweig")>=0?"statics/teams/Eintracht_Braunschweig.png":a.toLowerCase().indexOf("frankfurt")>=0?"statics/teams/Eintracht_Frankfurt.png":a.toLowerCase().indexOf("fortuna")>=0||a.toLowerCase().indexOf("düsseldorf")>=0?"statics/teams/Fortuna_Düsseldorf.png":a.toLowerCase().indexOf("greuther")>=0||a.toLowerCase().indexOf("fürth")>=0?"statics/teams/Greuther_Fürth.png":a.toLowerCase().indexOf("hamburg")>=0||a.toLowerCase().indexOf("hsv")>=0?"statics/teams/Hamburger_SV.png":a.toLowerCase().indexOf("hannover")>=0?"statics/teams/Hannover.png":a.toLowerCase().indexOf("hansa")>=0||a.toLowerCase().indexOf("rostock")>=0?"statics/teams/Hansa_Rostock.png":a.toLowerCase().indexOf("heidenheim")>=0?"statics/teams/Heidenheim.png":a.toLowerCase().indexOf("hertha")>=0?"statics/teams/Hertha.png":a.toLowerCase().indexOf("hoffenheim")>=0?"statics/teams/Hoffenheim.png":a.toLowerCase().indexOf("holstein")>=0?"statics/teams/Holstein.png":a.toLowerCase().indexOf("jahn")>=0||a.toLowerCase().indexOf("regensburg")>=0?"statics/teams/Jahn_Regensburg.png":a.toLowerCase().indexOf("fck")>=0||a.toLowerCase().indexOf("kaiserslautern")>=0?"statics/teams/Kaiserslautern.png":a.toLowerCase().indexOf("ksc")>=0||a.toLowerCase().indexOf("karlsruher")>=0?"statics/teams/Karlsruher.png":a.toLowerCase().indexOf("köln")>=0?"statics/teams/Köln.png":a.toLowerCase().indexOf("leipzig")>=0?"statics/teams/Leipzig.png":a.toLowerCase().indexOf("magdeburg")>=0?"statics/teams/Magdeburg.png":a.toLowerCase().indexOf("mainz")>=0?"statics/teams/Mainz.png":a.toLowerCase().indexOf("nürnberg")>=0?"statics/teams/Nürnberg.png":a.toLowerCase().indexOf("paderborn")>=0?"statics/teams/Paderborn.png":a.toLowerCase().indexOf("sandhausen")>=0?"statics/teams/Sandhausen.png":a.toLowerCase().indexOf("schalke")>=0?"statics/teams/Schalke.png":a.toLowerCase().indexOf("pauli")>=0?"statics/teams/St._Pauli.png":a.toLowerCase().indexOf("pokal")>=0?"statics/teams/DFB_Pokal.png":a.toLowerCase().indexOf("vfb")>=0||a.toLowerCase().indexOf("stuttgart")>=0?"statics/teams/Stuttgart.png":a.toLowerCase().indexOf("union")>=0?"statics/teams/Union_Berlin.png":a.toLowerCase().indexOf("werder")>=0||a.toLowerCase().indexOf("bremen")>=0?"statics/teams/Werder_Bremen.png":a.toLowerCase().indexOf("wolfsburg")>=0?"statics/teams/Wolfsburg.png":a.toLowerCase().indexOf("fest")>=0||a.toLowerCase().indexOf("party")>=0||a.toLowerCase().indexOf("anlass")>=0||a.toLowerCase().indexOf("geburtstag")>=0||a.toLowerCase().indexOf("event")>=0?"statics/teams/Event.png":a.toLowerCase().indexOf("test")>=0?"statics/teams/Test.png":"statics/teams/QuestionMark.png"},h=[{label:"AbrahamSimpson",value:"AbrahamSimpson",avatar:"statics/avatars/collection/AbrahamSimpson.png"},{label:"Barbara",value:"Barbara",avatar:"statics/avatars/collection/Barbara.png"},{label:"BarneyGumble",value:"BarneyGumble",avatar:"statics/avatars/collection/BarneyGumble.png"},{label:"BartSimpson",value:"BartSimpson",avatar:"statics/avatars/collection/BartSimpson.png"},{label:"Betty",value:"Betty",avatar:"statics/avatars/collection/Betty.png"},{label:"Boy",value:"Boy",avatar:"statics/avatars/collection/Boy.png"},{label:"Charles",value:"Charles",avatar:"statics/avatars/collection/Charles.png"},{label:"CharlesMontgomeryBurns",value:"CharlesMontgomeryBurns",avatar:"statics/avatars/collection/CharlesMontgomeryBurns.png"},{label:"Christopher",value:"Christopher",avatar:"statics/avatars/collection/Christopher.png"},{label:"clancyWiggum",value:"clancyWiggum",avatar:"statics/avatars/collection/clancyWiggum.png"},{label:"Daniel",value:"Daniel",avatar:"statics/avatars/collection/Daniel.png"},{label:"David",value:"David",avatar:"statics/avatars/collection/David.png"},{label:"Donald",value:"Donald",avatar:"statics/avatars/collection/Donald.png"},{label:"Dorothy",value:"Dorothy",avatar:"statics/avatars/collection/Dorothy.png"},{label:"Elizabeth",value:"Elizabeth",avatar:"statics/avatars/collection/Elizabeth.png"},{label:"George",value:"George",avatar:"statics/avatars/collection/George.png"},{label:"Girl",value:"Girl",avatar:"statics/avatars/collection/Girl.png"},{label:"Helen",value:"Helen",avatar:"statics/avatars/collection/Helen.png"},{label:"HelloKitty",value:"HelloKitty",avatar:"statics/avatars/collection/HelloKitty.png"},{label:"HomerSimpson",value:"HomerSimpson",avatar:"statics/avatars/collection/HomerSimpson.png"},{label:"Ironman",value:"Ironman",avatar:"statics/avatars/collection/Ironman.png"},{label:"James",value:"James",avatar:"statics/avatars/collection/James.png"},{label:"Jennifer",value:"Jennifer",avatar:"statics/avatars/collection/Jennifer.png"},{label:"John",value:"John",avatar:"statics/avatars/collection/John.png"},{label:"Joseph",value:"Joseph",avatar:"statics/avatars/collection/Joseph.png"},{label:"Karen",value:"Karen",avatar:"statics/avatars/collection/Karen.png"},{label:"Kenneth",value:"Kenneth",avatar:"statics/avatars/collection/Kenneth.png"},{label:"KrustyTheClown",value:"KrustyTheClown",avatar:"statics/avatars/collection/KrustyTheClown.png"},{label:"Linda",value:"Linda",avatar:"statics/avatars/collection/Linda.png"},{label:"Lisa",value:"Lisa",avatar:"statics/avatars/collection/Lisa.png"},{label:"LisaSimpson",value:"LisaSimpson",avatar:"statics/avatars/collection/LisaSimpson.png"},{label:"MaggieSimpson",value:"MaggieSimpson",avatar:"statics/avatars/collection/MaggieSimpson.png"},{label:"Margaret",value:"Margaret",avatar:"statics/avatars/collection/Margaret.png"},{label:"MargeSimpson",value:"MargeSimpson",avatar:"statics/avatars/collection/MargeSimpson.png"},{label:"Maria",value:"Maria",avatar:"statics/avatars/collection/Maria.png"},{label:"Mark",value:"Mark",avatar:"statics/avatars/collection/Mark.png"},{label:"Mary",value:"Mary",avatar:"statics/avatars/collection/Mary.png"},{label:"Michael",value:"Michael",avatar:"statics/avatars/collection/Michael.png"},{label:"Nancy",value:"Nancy",avatar:"statics/avatars/collection/Nancy.png"},{label:"Patricia",value:"Patricia",avatar:"statics/avatars/collection/Patricia.png"},{label:"Paul",value:"Paul",avatar:"statics/avatars/collection/Paul.png"},{label:"PileOfPoo",value:"PileOfPoo",avatar:"statics/avatars/collection/PileOfPoo.png"},{label:"Quasar",value:"Quasar",avatar:"statics/avatars/collection/Quasar.png"},{label:"Richard",value:"Richard",avatar:"statics/avatars/collection/Richard.png"},{label:"Robert",value:"Robert",avatar:"statics/avatars/collection/Robert.png"},{label:"StanMarsh",value:"StanMarsh",avatar:"statics/avatars/collection/StanMarsh.png"},{label:"Steven",value:"Steven",avatar:"statics/avatars/collection/Steven.png"},{label:"SuperMario",value:"SuperMario",avatar:"statics/avatars/collection/SuperMario.png"},{label:"Susan",value:"Susan",avatar:"statics/avatars/collection/Susan.png"},{label:"Thomas",value:"Thomas",avatar:"statics/avatars/collection/Thomas.png"},{label:"William",value:"William",avatar:"statics/avatars/collection/William.png"}]},3615:(a,t,e)=>{e.r(t),e.d(t,{default:()=>ma});var s=e(9835),l=e(6970);const i={class:"q-pa-md",style:{"max-width":"500px"}},n={class:"q-pa-md bg-grey-10 text-white",style:{"max-width":"500px"}},o=["src"],c=["src"],r={class:"q-pa-md q-gutter-sm"},m=(0,s._)("div",{class:"text-h6"},"Spiel erfassen",-1),d={class:"q-pt-md"},u={class:"q-gutter-sm"},p={class:"q-pt-md",style:{"max-width":"300px"}},h={class:"row items-center justify-end"},g={class:"row items-center justify-end"},v={class:"q-pt-md",style:{"max-width":"300px"}},b=(0,s._)("div",{class:"text-h6"},"Spiel ändern",-1),w={class:"q-pt-md"},f={class:"q-gutter-sm"},x={class:"q-pt-md",style:{"max-width":"300px"}},M={class:"row items-center justify-end"},y={class:"row items-center justify-end"},C={class:"q-pt-md",style:{"max-width":"300px"}},L=(0,s._)("span",{class:"q-ml-sm"},"Datensatz löschen?",-1);function _(a,t,e,_,O,W){const k=(0,s.up)("q-toolbar-title"),S=(0,s.up)("q-btn"),q=(0,s.up)("q-toolbar"),D=(0,s.up)("q-avatar"),H=(0,s.up)("q-item-section"),V=(0,s.up)("q-item-label"),U=(0,s.up)("q-item"),P=(0,s.up)("q-list"),A=(0,s.up)("q-card-section"),B=(0,s.up)("q-input"),$=(0,s.up)("q-checkbox"),R=(0,s.up)("q-date"),I=(0,s.up)("q-popup-proxy"),N=(0,s.up)("q-icon"),Q=(0,s.up)("q-time"),K=(0,s.up)("q-separator"),T=(0,s.up)("q-card-actions"),Z=(0,s.up)("q-card"),j=(0,s.up)("q-dialog"),z=(0,s.up)("q-img"),J=(0,s.up)("q-page"),Y=(0,s.Q2)("ripple"),E=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(J,null,{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s.Wm)(q,{class:"bg-primary text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Spiele")])),_:1}),O.IsAdministrator?((0,s.wg)(),(0,s.j4)(S,{key:0,class:"bg-white text-primary",icon:"add",label:"Neu",onClick:t[0]||(t[0]=a=>_.addMatch=!0)})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(O.matchObject,((a,t)=>(0,s.wy)(((0,s.wg)(),(0,s.j4)(P,{dark:"",bordered:"",separator:"",style:{"max-width":"470px"},key:t},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(U,{clickable:"",onClick:t=>W.onMatchClick(a.row,a.matchId,a.match,a.published,a.date+" "+a.time,a.annotations)},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{size:"50px"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:O.getImageHomeTeam(a.match)},null,8,o)])),_:2},1024)])),_:2},1024),(0,s.Wm)(H,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{size:"50px"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:O.getImageAwayTeam(a.match)},null,8,c)])),_:2},1024)])),_:2},1024),(0,s.Wm)(H,null,{default:(0,s.w5)((()=>[(0,s.Wm)(V,{overline:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Spiel: "+(0,l.zw)(a.match),1)])),_:2},1024),(0,s.Wm)(V,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Wann: "+(0,l.zw)(a.date)+" - "+(0,l.zw)(a.time),1)])),_:2},1024),"TRUE"===a.published?((0,s.wg)(),(0,s.j4)(V,{key:0,caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Publiziert: Ja")])),_:1})):(0,s.kq)("",!0),"FALSE"===a.published?((0,s.wg)(),(0,s.j4)(V,{key:1,caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Publiziert: Nein")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(V,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Kommentar: "+(0,l.zw)(a.annotations),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[Y]])])),_:2},1024)),[[Y]]))),128))]),(0,s._)("div",r,[(0,s.Wm)(j,{modelValue:_.addMatch,"onUpdate:modelValue":t[8]||(t[8]=a=>_.addMatch=a),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[m])),_:1}),(0,s.Wm)(A,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{dense:"",modelValue:_.txtMatchNew,"onUpdate:modelValue":t[1]||(t[1]=a=>_.txtMatchNew=a),autofocus:"",label:"Spiel"},null,8,["modelValue"]),(0,s._)("div",d,[(0,s._)("div",u,[(0,s._)("div",null,[(0,s.Wm)($,{"left-label":"",modelValue:_.chbPublishedNew,"onUpdate:modelValue":t[2]||(t[2]=a=>_.chbPublishedNew=a),label:"Publizieren"},null,8,["modelValue"])])])]),(0,s._)("div",p,[(0,s.Wm)(B,{filled:"",modelValue:_.txtDatetimeNew,"onUpdate:modelValue":t[5]||(t[5]=a=>_.txtDatetimeNew=a)},{prepend:(0,s.w5)((()=>[(0,s.Wm)(N,{name:"event",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(R,{modelValue:_.txtDatetimeNew,"onUpdate:modelValue":t[3]||(t[3]=a=>_.txtDatetimeNew=a),mask:"DD.MM.YYYY HH:mm"},{default:(0,s.w5)((()=>[(0,s._)("div",h,[(0,s.wy)((0,s.Wm)(S,{label:"Close",color:"primary",flat:""},null,512),[[E]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),append:(0,s.w5)((()=>[(0,s.Wm)(N,{name:"access_time",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{modelValue:_.txtDatetimeNew,"onUpdate:modelValue":t[4]||(t[4]=a=>_.txtDatetimeNew=a),mask:"DD.MM.YYYY HH:mm",format24h:""},{default:(0,s.w5)((()=>[(0,s._)("div",g,[(0,s.wy)((0,s.Wm)(S,{label:"Close",color:"primary",flat:""},null,512),[[E]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,s._)("div",v,[(0,s.Wm)(B,{modelValue:_.txtAnnotationsNew,"onUpdate:modelValue":t[6]||(t[6]=a=>_.txtAnnotationsNew=a),filled:"",type:"textarea",label:"Kommentar"},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(K),(0,s.Wm)(T,{class:"text-primary",align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(S,{flat:"",label:"Abbrechen"},null,512),[[E]]),(0,s.wy)((0,s.Wm)(S,{icon:"save",label:"Speichern",onClick:t[7]||(t[7]=a=>W.addMatchSave(_.txtMatchNew,_.chbPublishedNew,_.txtDatetimeNew,_.txtAnnotationsNew)),disable:""===_.txtMatchNew},null,8,["disable"]),[[E]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(j,{modelValue:_.editMatch,"onUpdate:modelValue":t[17]||(t[17]=a=>_.editMatch=a),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[b])),_:1}),(0,s.Wm)(A,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{dense:"",modelValue:_.txtMatch,"onUpdate:modelValue":t[9]||(t[9]=a=>_.txtMatch=a),autofocus:"",label:"Spiel"},null,8,["modelValue"]),(0,s._)("div",w,[(0,s._)("div",f,[(0,s._)("div",null,[(0,s.Wm)($,{"left-label":"",modelValue:_.chbPublished,"onUpdate:modelValue":t[10]||(t[10]=a=>_.chbPublished=a),label:"Publizieren"},null,8,["modelValue"])])])]),(0,s._)("div",x,[(0,s.Wm)(B,{filled:"",modelValue:_.txtDatetime,"onUpdate:modelValue":t[13]||(t[13]=a=>_.txtDatetime=a)},{prepend:(0,s.w5)((()=>[(0,s.Wm)(N,{name:"event",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(R,{modelValue:_.txtDatetime,"onUpdate:modelValue":t[11]||(t[11]=a=>_.txtDatetime=a),mask:"DD.MM.YYYY HH:mm"},{default:(0,s.w5)((()=>[(0,s._)("div",M,[(0,s.wy)((0,s.Wm)(S,{label:"Close",color:"primary",flat:""},null,512),[[E]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),append:(0,s.w5)((()=>[(0,s.Wm)(N,{name:"access_time",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{modelValue:_.txtDatetime,"onUpdate:modelValue":t[12]||(t[12]=a=>_.txtDatetime=a),mask:"DD.MM.YYYY HH:mm",format24h:""},{default:(0,s.w5)((()=>[(0,s._)("div",y,[(0,s.wy)((0,s.Wm)(S,{label:"Close",color:"primary",flat:""},null,512),[[E]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,s._)("div",C,[(0,s.Wm)(B,{modelValue:_.txtAnnotations,"onUpdate:modelValue":t[14]||(t[14]=a=>_.txtAnnotations=a),filled:"",type:"textarea",label:"Kommentar"},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(K),(0,s.Wm)(T,{class:"text-primary",align:"right"},{default:(0,s.w5)((()=>[O.IsAdministrator?((0,s.wg)(),(0,s.j4)(S,{key:0,icon:"delete",color:"primary",onClick:t[15]||(t[15]=a=>_.delMatch=!0)})):(0,s.kq)("",!0),(0,s.wy)((0,s.Wm)(S,{flat:"",label:"Abbrechen"},null,512),[[E]]),(0,s.wy)((0,s.Wm)(S,{icon:"save",label:"Speichern",onClick:t[16]||(t[16]=a=>W.editMatchSave(_.intMatchRow,_.txtMatchId,_.txtMatch,_.txtMatchOld,_.chbPublished,_.txtDatetime,_.txtAnnotations)),disable:""===_.txtMatch},null,8,["disable"]),[[E]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(j,{modelValue:_.delMatch,"onUpdate:modelValue":t[19]||(t[19]=a=>_.delMatch=a),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{icon:"delete",color:"primary","text-color":"white"}),L])),_:1}),(0,s.Wm)(T,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(S,{flat:"",label:"Nein",color:"primary"},null,512),[[E]]),(0,s.wy)((0,s.Wm)(S,{flat:"",label:"Ja",color:"primary",onClick:t[18]||(t[18]=a=>W.archiveMatch(_.intMatchRow,_.txtMatchId,_.txtDatetime))},null,512),[[E]])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,s.Wm)(z,{src:"statics/BGB.jpg",class:"header-image absolute-top"})])),_:1})}e(9665),e(6727);var O=e(9302),W=e(2417),k=e(499);const S=(0,k.iH)(0),q=(0,k.iH)(""),D=(0,k.iH)(""),H=(0,k.iH)(""),V=(0,k.iH)(!1),U=(0,k.iH)(""),P=(0,k.iH)(""),A={name:"ListMatch",setup(){const a=(0,O.Z)();return{intMatchRow:(0,k.iH)(S),txtMatchId:(0,k.iH)(q),txtMatch:(0,k.iH)(D),txtMatchOld:(0,k.iH)(H),chbPublished:(0,k.iH)(V),txtDatetime:(0,k.iH)(U),txtAnnotations:(0,k.iH)(P),txtMatchNew:(0,k.iH)(""),chbPublishedNew:(0,k.iH)(!1),txtDatetimeNew:(0,k.iH)(""),txtAnnotationsNew:(0,k.iH)("<STANDARDTEXT>"),onMatchAlreadyExists(){a.notify({type:"negative",message:"Dieses Spiel besteht bereits!"})},addMatch:(0,k.iH)(!1),editMatch:(0,k.iH)(!1),delMatch:(0,k.iH)(!1)}},data(){return{IsAdministrator:W.Np,URLMatch:W.SJ,URLParticipant:W.Bk,URLParticipantArchive:W.UP,getImageHomeTeam:W.wg,getImageAwayTeam:W.ib,matchObject:[{row:"",matchId:"",match:"",published:"",time:"",annotations:"",date:""}]}},computed:{},mounted(){this.getTableMatch()},methods:{getTableMatch(){this.matchObject=[];const a=this.IsAdministrator?"":"TRUE";this.$axios(`${this.URLMatch}&func=Read&published=${a}`).then((a=>{this.tableMatch=a.data.split("\n");for(let t=0;t<this.tableMatch.length-1;t++){const a=this.tableMatch[t].split(",");this.setMatchObject(a[0],a[1],a[3],a[4],a[5].substring(0,5),a[6].replace(/<br>/g,"\n"),a[7])}this.matchObject.sort((function(a,t){let e=a.date;e=e.substring(6,10)+e.substring(3,5)+e.substring(0,2);let s=t.date;return s=s.substring(6,10)+s.substring(3,5)+s.substring(0,2),e>s?1:e<s?-1:0}))})).catch((a=>{console.log(a)}))},setMatchObject(a,t,e,s,l,i,n){this.matchObject.push({row:parseInt(a),matchId:t,match:e,published:s,time:l,annotations:i,date:n})},onMatchClick(a,t,e,s,l,i){S.value=a,q.value=t,D.value=e,H.value=e,V.value="TRUE"===s,U.value=l,P.value=i,this.IsAdministrator&&(this.editMatch=!0)},addMatchSave(a,t,e,s){const l=this.matchObject.map((a=>a.match)),i=l.includes(a);if(i)this.onMatchAlreadyExists();else{const l=e.substring(0,10),i=e.substring(11,16);this.$axios(`${this.URLMatch}&func=Add&match=${encodeURI(a.replace(","," "))}&published=${t}&time=${i}&annotations=${encodeURI(s.replace(",",";").replace(/(?:\r\n|\r|\n)/g,"<br>"))}&date=${l}`).then((a=>{"Success, requested action completed"===a.data&&this.getTableMatch()})).catch((a=>{console.log(a)}))}},editMatchSave(a,t,e,s,l,i,n){const o=this.matchObject.map((a=>a.match)),c=o.includes(e)&&e!==s;if(c)this.onMatchAlreadyExists();else{const s=i.substring(0,10),o=i.substring(11,16),c=e.trim()+" "+s.substring(0,6)+s.substring(8,10)+" - "+o;this.$axios(`${this.URLMatch}&func=Update&row=${a}&matchId=${t}&match=${encodeURI(e.replace(","," "))}&published=${l}&time=${o}&annotations=${encodeURI(n.replace(",",";").replace(/(?:\r\n|\r|\n)/g,"<br>"))}&date=${s}`).then((a=>{"Success, requested action completed"===a.data&&this.$axios(`${this.URLParticipant}&func=UpdateMatch&matchId=${t}&newMatch=${c}`).then((a=>{"Success, requested action completed"===a.data&&this.getTableMatch()})).catch((a=>{console.log(a)}))})).catch((a=>{console.log(a)}))}},async archiveMatch(a,t,e){const s=e.substring(0,10),l=a=>new Promise((t=>setTimeout(t,a)));this.$axios(`${this.URLParticipant}&func=Read&matchId=${t}`).then((async a=>{this.tableParticipant=a.data.split("\n");for(let t=0;t<this.tableParticipant.length-1;t++){const a=this.tableParticipant[t].split(",");await l(1e3),this.$axios(`${this.URLParticipantArchive}&func=Add&timestamp=${a[1]}&match=${a[2]}&participant=${a[3]}&arrival=${a[4]}&annotations=${a[5]}&action=${a[6]}&reaction=${a[7]}&date=${s}`).catch((a=>{console.log(a)}))}})).catch((a=>{console.log(a)})),this.deleteMatch(a,t)},deleteMatch(a,t){this.$axios(`${this.URLParticipant}&func=DeleteMatch&matchId=${t}`).then((e=>{"Success, requested action completed"===e.data&&this.$axios(`${this.URLMatch}&func=Delete&row=${a}&matchId=${t}`).then((a=>{"Success, requested action completed"===a.data&&(this.getTableMatch(),this.editMatch=!1)})).catch((a=>{console.log(a)}))})).catch((a=>{console.log(a)}))}}};var B=e(1639),$=e(9885),R=e(1663),I=e(1973),N=e(8879),Q=e(3246),K=e(490),T=e(1233),Z=e(1357),j=e(3115),z=e(2074),J=e(4458),Y=e(3190),E=e(6611),G=e(1006),F=e(2857),X=e(2765),aa=e(2952),ta=e(6770),ea=e(926),sa=e(1821),la=e(335),ia=e(1136),na=e(2146),oa=e(9984),ca=e.n(oa);const ra=(0,B.Z)(A,[["render",_]]),ma=ra;ca()(A,"components",{QPage:$.Z,QToolbar:R.Z,QToolbarTitle:I.Z,QBtn:N.Z,QList:Q.Z,QItem:K.Z,QItemSection:T.Z,QAvatar:Z.Z,QItemLabel:j.Z,QDialog:z.Z,QCard:J.Z,QCardSection:Y.Z,QInput:E.Z,QCheckbox:G.Z,QIcon:F.Z,QPopupProxy:X.Z,QDate:aa.Z,QTime:ta.Z,QSeparator:ea.Z,QCardActions:sa.Z,QImg:la.Z}),ca()(A,"directives",{Ripple:ia.Z,ClosePopup:na.Z})}}]);