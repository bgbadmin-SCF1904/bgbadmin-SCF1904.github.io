"use strict";(globalThis["webpackChunkquasar_bgb_matchmanagement"]=globalThis["webpackChunkquasar_bgb_matchmanagement"]||[]).push([[801],{7801:(e,a,t)=>{t.r(a),t.d(a,{default:()=>F});var l=t(9835),d=t(6970);const r={class:"q-pa-md",style:{"max-width":"500px"}},s={class:"q-pa-md bg-grey-10 text-white",style:{"max-width":"500px"}},o=["src"],i=["src"],c={class:"q-pa-md q-gutter-sm"},h=(0,l._)("div",{class:"text-h6"},"Karte erfassen",-1),n={class:"q-pt-md"},u={class:"q-gutter-sm"},m=(0,l._)("span",{class:"q-ml-sm"},"Dieser Inhaber besteht bereits!",-1),w=(0,l._)("div",{class:"text-h6"},"Karte ändern",-1),p={class:"q-pt-md"},W={class:"q-gutter-sm"},C=(0,l._)("span",{class:"q-ml-sm"},"Datensatz löschen?",-1);function y(e,a,t,y,b,I){const H=(0,l.up)("q-toolbar-title"),x=(0,l.up)("q-btn"),g=(0,l.up)("q-toolbar"),f=(0,l.up)("q-avatar"),_=(0,l.up)("q-item-section"),M=(0,l.up)("q-item-label"),q=(0,l.up)("q-item"),v=(0,l.up)("q-list"),k=(0,l.up)("q-card-section"),U=(0,l.up)("q-input"),V=(0,l.up)("q-checkbox"),T=(0,l.up)("q-separator"),Z=(0,l.up)("q-card-actions"),j=(0,l.up)("q-card"),Q=(0,l.up)("q-dialog"),A=(0,l.up)("q-img"),N=(0,l.up)("q-page"),$=(0,l.Q2)("ripple"),R=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(N,null,{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l.Wm)(g,{class:"bg-primary text-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(H,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Wer hat meine Karte")])),_:1}),(0,l.Wm)(x,{class:"bg-white text-primary",icon:"add",label:"Neu",onClick:a[0]||(a[0]=e=>y.addWhereIsMyCard=!0)})])),_:1})]),(0,l._)("div",s,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.whereIsMyCardObject,((e,a)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(v,{dark:"",bordered:"",separator:"",style:{"max-width":"470px"},key:a},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(q,{clickable:"",onClick:a=>I.onWhereIsMyCardClick(e.cardHolderId,e.cardHolder,e.discounted,e.whoHasTheCard)},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{avatar:""},{default:(0,l.w5)((()=>[I.hasAvatar(e.cardHolder)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(f,{key:0,size:"50px",color:"lime-10","text-color":"white"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,d.zw)(e.cardHolder.substring(0,1)),1)])),_:2},1024)),I.hasAvatar(e.cardHolder)?((0,l.wg)(),(0,l.j4)(f,{key:1,size:"50px"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:I.getAvatar(e.cardHolder)},null,8,o)])),_:2},1024)):(0,l.kq)("",!0)])),_:2},1024),(0,l.Wm)(_,{avatar:""},{default:(0,l.w5)((()=>[I.hasAvatar(e.whoHasTheCard)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(f,{key:0,size:"50px",color:"green-10","text-color":"white"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,d.zw)(e.whoHasTheCard.substring(0,1)),1)])),_:2},1024)),I.hasAvatar(e.whoHasTheCard)?((0,l.wg)(),(0,l.j4)(f,{key:1,size:"50px"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:I.getAvatar(e.whoHasTheCard)},null,8,i)])),_:2},1024)):(0,l.kq)("",!0)])),_:2},1024),(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(M,{overline:""},{default:(0,l.w5)((()=>[(0,l.Uk)("Inhaber: "+(0,d.zw)(e.cardHolder),1)])),_:2},1024),"TRUE"===e.discounted?((0,l.wg)(),(0,l.j4)(M,{key:0,caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)("Kind: Ja")])),_:1})):(0,l.kq)("",!0),"FALSE"===e.discounted?((0,l.wg)(),(0,l.j4)(M,{key:1,caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)("Kind: Nein")])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(M,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)("Wer hat die Karte: "+(0,d.zw)(e.whoHasTheCard),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[$]])])),_:2},1024)),[[$]]))),128))]),(0,l._)("div",c,[(0,l.Wm)(Q,{modelValue:y.addWhereIsMyCard,"onUpdate:modelValue":a[5]||(a[5]=e=>y.addWhereIsMyCard=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{style:{"min-width":"350px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[h])),_:1}),(0,l.Wm)(k,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{dense:"",modelValue:y.txtCardHolderNew,"onUpdate:modelValue":a[1]||(a[1]=e=>y.txtCardHolderNew=e),autofocus:"",label:"Inhaber"},null,8,["modelValue"]),(0,l._)("div",n,[(0,l._)("div",u,[(0,l._)("div",null,[(0,l.Wm)(V,{"left-label":"",modelValue:y.txtDiscountedNew,"onUpdate:modelValue":a[2]||(a[2]=e=>y.txtDiscountedNew=e),label:"Kind"},null,8,["modelValue"])])])]),(0,l.Wm)(U,{dense:"",modelValue:y.txtWhoHasTheCardNew,"onUpdate:modelValue":a[3]||(a[3]=e=>y.txtWhoHasTheCardNew=e),autofocus:"",label:"Wer hat die Karte"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(T),(0,l.Wm)(Z,{class:"text-primary",align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(x,{flat:"",label:"Abbrechen"},null,512),[[R]]),(0,l.wy)((0,l.Wm)(x,{icon:"save",label:"Speichern",onClick:a[4]||(a[4]=e=>I.addWhereIsMyCardSave(y.txtCardHolderNew,y.txtDiscountedNew,y.txtWhoHasTheCardNew)),disable:""===y.txtCardHolderNew},null,8,["disable"]),[[R]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(Q,{modelValue:y.showWhereIsMyCardExists,"onUpdate:modelValue":a[6]||(a[6]=e=>y.showWhereIsMyCardExists=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(j,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{icon:"pan_tool",color:"primary","text-color":"white"}),m])),_:1}),(0,l.Wm)(Z,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(x,{flat:"",label:"Schliessen",color:"primary"},null,512),[[R]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(Q,{modelValue:y.editWhereIsMyCard,"onUpdate:modelValue":a[12]||(a[12]=e=>y.editWhereIsMyCard=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{style:{"min-width":"350px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[w])),_:1}),(0,l.Wm)(k,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{dense:"",modelValue:y.txtCardHolder,"onUpdate:modelValue":a[7]||(a[7]=e=>y.txtCardHolder=e),autofocus:"",label:"Inhaber"},null,8,["modelValue"]),(0,l._)("div",p,[(0,l._)("div",W,[(0,l._)("div",null,[(0,l.Wm)(V,{"left-label":"",modelValue:y.boolDiscounted,"onUpdate:modelValue":a[8]||(a[8]=e=>y.boolDiscounted=e),label:"Kind"},null,8,["modelValue"])])])]),(0,l.Wm)(U,{dense:"",modelValue:y.txtWhoHasTheCard,"onUpdate:modelValue":a[9]||(a[9]=e=>y.txtWhoHasTheCard=e),autofocus:"",label:"Wer hat die Karte"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(T),(0,l.Wm)(Z,{class:"text-primary",align:"right"},{default:(0,l.w5)((()=>[y.IsAdministrator?((0,l.wg)(),(0,l.j4)(x,{key:0,icon:"delete",color:"primary",onClick:a[10]||(a[10]=e=>y.delWhereIsMyCard=!0)})):(0,l.kq)("",!0),(0,l.wy)((0,l.Wm)(x,{flat:"",label:"Abbrechen"},null,512),[[R]]),(0,l.wy)((0,l.Wm)(x,{icon:"save",label:"Speichern",onClick:a[11]||(a[11]=e=>I.editWhereIsMyCardSave(y.txtCardHolderId,y.txtCardHolder,y.txtCardHolderOld,y.boolDiscounted,y.txtWhoHasTheCard)),disable:""===y.txtCardHolder},null,8,["disable"]),[[R]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(Q,{modelValue:y.delWhereIsMyCard,"onUpdate:modelValue":a[14]||(a[14]=e=>y.delWhereIsMyCard=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(j,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{icon:"delete",color:"primary","text-color":"white"}),C])),_:1}),(0,l.Wm)(Z,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(x,{flat:"",label:"Nein",color:"primary"},null,512),[[R]]),(0,l.wy)((0,l.Wm)(x,{flat:"",label:"Ja",color:"primary",onClick:a[13]||(a[13]=e=>I.deleteWhereIsMyCard(y.txtCardHolderId))},null,512),[[R]])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,l.Wm)(A,{src:"statics/BGB.jpg",class:"header-image absolute-top"})])),_:1})}t(9665),t(6727);var b=t(4136),I=t(499);const H=(0,I.iH)(""),x=(0,I.iH)(""),g=(0,I.iH)(""),f=(0,I.iH)(""),_=(0,I.iH)(""),M={name:"ListWhoHasTheCard",setup(){return{IsAdministrator:(0,I.iH)(!0),txtCardHolderId:(0,I.iH)(H),txtCardHolder:(0,I.iH)(x),txtCardHolderOld:(0,I.iH)(g),boolDiscounted:(0,I.iH)(f),txtWhoHasTheCard:(0,I.iH)(_),txtCardHolderNew:(0,I.iH)(""),txtDiscountedNew:(0,I.iH)(!1),txtWhoHasTheCardNew:(0,I.iH)(""),addWhereIsMyCard:(0,I.iH)(!1),showWhereIsMyCardExists:(0,I.iH)(!1),editWhereIsMyCard:(0,I.iH)(!1),delWhereIsMyCard:(0,I.iH)(!1)}},data(){return{URLWhereIsMyCard:b.URLWhereIsMyCard,whereIsMyCardObject:[{cardHolder:"",discounted:"",whoHasTheCard:"",cardHolderId:""}]}},computed:{},mounted(){this.getTableWhereIsMyCard()},methods:{hasAvatar(e){return"Bolze"===e},getAvatar(e){if("Bolze"===e)return"statics/avatars/Bolze.png"},getTableWhereIsMyCard(){this.whereIsMyCardObject=[],this.$axios(`${this.URLWhereIsMyCard}&func=Read&cardholder=`).then((e=>{this.tableWhereIsMyCard=e.data.split("\n");for(let a=0;a<this.tableWhereIsMyCard.length-1;a++){const e=this.tableWhereIsMyCard[a].split(",");this.setWhereIsMyCardObject(e[2],e[3],e[4],e[5])}})).catch((e=>{console.log(e)}))},setWhereIsMyCardObject(e,a,t,l){this.whereIsMyCardObject.push({cardHolder:e,discounted:a,whoHasTheCard:t,cardHolderId:l})},onWhereIsMyCardClick(e,a,t,l){H.value=e,x.value=a,g.value=a,f.value="TRUE"===t,_.value=l,this.editWhereIsMyCard=!0},addWhereIsMyCardSave(e,a,t){const l=this.whereIsMyCardObject.map((e=>e.cardHolder)),d=l.includes(e);d?this.showWhereIsMyCardExists=!0:this.$axios(`${this.URLWhereIsMyCard}&func=Add&cardholder=${encodeURI(e.replace(","," "))}&discounted=${a}&whohasthecard=${encodeURI(t.replace(",",""))}`).then((e=>{"Success, requested action completed"===e.data&&this.getTableWhereIsMyCard()})).catch((e=>{console.log(e)}))},editWhereIsMyCardSave(e,a,t,l,d){const r=this.whereIsMyCardObject.map((e=>e.cardHolder)),s=r.includes(a)&&a!==t;s?this.showWhereIsMyCardExists=!0:this.$axios(`${this.URLWhereIsMyCard}&func=Update&cardholderId=${e}&cardholder=${encodeURI(a.replace(","," "))}&discounted=${l}&whohasthecard=${encodeURI(d.replace(",",""))}`).then((e=>{"Success, requested action completed"===e.data&&this.getTableWhereIsMyCard()})).catch((e=>{console.log(e)}))},deleteWhereIsMyCard(e){this.$axios(`${this.URLWhereIsMyCard}&func=Delete&cardholderId=${e}`).then((e=>{"Success, requested action completed"===e.data&&(this.getTableWhereIsMyCard(),this.editWhereIsMyCard=!1)})).catch((e=>{console.log(e)}))}}};var q=t(1639),v=t(9885),k=t(1663),U=t(1973),V=t(8879),T=t(3246),Z=t(490),j=t(1233),Q=t(1357),A=t(3115),N=t(2074),$=t(4458),R=t(3190),S=t(6611),D=t(1006),z=t(926),K=t(1821),L=t(335),O=t(1136),E=t(2146),B=t(9984),J=t.n(B);const P=(0,q.Z)(M,[["render",y]]),F=P;J()(M,"components",{QPage:v.Z,QToolbar:k.Z,QToolbarTitle:U.Z,QBtn:V.Z,QList:T.Z,QItem:Z.Z,QItemSection:j.Z,QAvatar:Q.Z,QItemLabel:A.Z,QDialog:N.Z,QCard:$.Z,QCardSection:R.Z,QInput:S.Z,QCheckbox:D.Z,QSeparator:z.Z,QCardActions:K.Z,QImg:L.Z}),J()(M,"directives",{Ripple:O.Z,ClosePopup:E.Z})}}]);