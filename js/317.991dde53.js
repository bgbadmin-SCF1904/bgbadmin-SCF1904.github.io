"use strict";(globalThis["webpackChunkquasar_bgb_matchmanagement"]=globalThis["webpackChunkquasar_bgb_matchmanagement"]||[]).push([[317],{1317:(e,a,t)=>{t.r(a),t.d(a,{default:()=>B});var d=t(9835),l=t(6970);const r={class:"q-pa-md",style:{"max-width":"500px"}},s={class:"q-pa-md bg-grey-10 text-white",style:{"max-width":"500px"}},o={class:"q-pa-md q-gutter-sm"},i=(0,d._)("div",{class:"text-h6"},"Karte erfassen",-1),c={class:"q-pt-md"},n={class:"q-gutter-sm"},h=(0,d._)("div",{class:"text-h6"},"Karte ändern",-1),u={class:"q-pt-md"},m={class:"q-gutter-sm"},W=(0,d._)("span",{class:"q-ml-sm"},"Datensatz löschen?",-1);function p(e,a,t,p,C,w){const y=(0,d.up)("q-toolbar-title"),I=(0,d.up)("q-btn"),b=(0,d.up)("q-toolbar"),g=(0,d.up)("q-item-label"),x=(0,d.up)("q-item-section"),H=(0,d.up)("q-item"),M=(0,d.up)("q-list"),f=(0,d.up)("q-card-section"),_=(0,d.up)("q-input"),q=(0,d.up)("q-checkbox"),k=(0,d.up)("q-separator"),v=(0,d.up)("q-card-actions"),U=(0,d.up)("q-card"),V=(0,d.up)("q-dialog"),T=(0,d.up)("q-avatar"),Q=(0,d.up)("q-img"),Z=(0,d.up)("q-page"),R=(0,d.Q2)("ripple"),j=(0,d.Q2)("close-popup");return(0,d.wg)(),(0,d.j4)(Z,null,{default:(0,d.w5)((()=>[(0,d._)("div",r,[(0,d.Wm)(b,{class:"bg-primary text-white"},{default:(0,d.w5)((()=>[(0,d.Wm)(y,null,{default:(0,d.w5)((()=>[(0,d.Uk)("Wer hat meine Karte")])),_:1}),(0,d.Wm)(I,{class:"bg-white text-primary",icon:"add",label:"Neu",onClick:a[0]||(a[0]=e=>p.addWhereIsMyCard=!0)})])),_:1})]),(0,d._)("div",s,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(C.whereIsMyCardObject,((e,a)=>(0,d.wy)(((0,d.wg)(),(0,d.j4)(M,{dark:"",bordered:"",separator:"",style:{"max-width":"470px"},key:a},{default:(0,d.w5)((()=>[(0,d.wy)(((0,d.wg)(),(0,d.j4)(H,{clickable:"",onClick:a=>w.onWhereIsMyCardClick(e.cardHolderId,e.cardHolder,e.discounted,e.whoHasTheCard)},{default:(0,d.w5)((()=>[(0,d.Wm)(x,null,{default:(0,d.w5)((()=>[(0,d.Wm)(g,{overline:""},{default:(0,d.w5)((()=>[(0,d.Uk)("Inhaber: "+(0,l.zw)(e.cardHolder),1)])),_:2},1024),"TRUE"===e.discounted?((0,d.wg)(),(0,d.j4)(g,{key:0,caption:""},{default:(0,d.w5)((()=>[(0,d.Uk)("Kind: Ja")])),_:1})):(0,d.kq)("",!0),"FALSE"===e.discounted?((0,d.wg)(),(0,d.j4)(g,{key:1,caption:""},{default:(0,d.w5)((()=>[(0,d.Uk)("Kind: Nein")])),_:1})):(0,d.kq)("",!0),(0,d.Wm)(g,{caption:""},{default:(0,d.w5)((()=>[(0,d.Uk)("Wer hat die Karte: "+(0,l.zw)(e.whoHasTheCard),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[R]])])),_:2},1024)),[[R]]))),128))]),(0,d._)("div",o,[(0,d.Wm)(V,{modelValue:p.addWhereIsMyCard,"onUpdate:modelValue":a[5]||(a[5]=e=>p.addWhereIsMyCard=e),persistent:""},{default:(0,d.w5)((()=>[(0,d.Wm)(U,{style:{"min-width":"350px"}},{default:(0,d.w5)((()=>[(0,d.Wm)(f,null,{default:(0,d.w5)((()=>[i])),_:1}),(0,d.Wm)(f,{class:"q-pt-none"},{default:(0,d.w5)((()=>[(0,d.Wm)(_,{dense:"",modelValue:p.txtCardHolderNew,"onUpdate:modelValue":a[1]||(a[1]=e=>p.txtCardHolderNew=e),autofocus:"",label:"Inhaber"},null,8,["modelValue"]),(0,d._)("div",c,[(0,d._)("div",n,[(0,d._)("div",null,[(0,d.Wm)(q,{"left-label":"",modelValue:p.txtDiscountedNew,"onUpdate:modelValue":a[2]||(a[2]=e=>p.txtDiscountedNew=e),label:"Kind"},null,8,["modelValue"])])])]),(0,d.Wm)(_,{dense:"",modelValue:p.txtWhoHasTheCardNew,"onUpdate:modelValue":a[3]||(a[3]=e=>p.txtWhoHasTheCardNew=e),autofocus:"",label:"Wer hat die Karte"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(k),(0,d.Wm)(v,{class:"text-primary",align:"right"},{default:(0,d.w5)((()=>[(0,d.wy)((0,d.Wm)(I,{flat:"",label:"Abbrechen"},null,512),[[j]]),(0,d.wy)((0,d.Wm)(I,{icon:"save",label:"Speichern",onClick:a[4]||(a[4]=e=>w.addWhereIsMyCardSave(p.txtCardHolderNew,p.txtDiscountedNew,p.txtWhoHasTheCardNew)),disable:""===p.txtCardHolderNew},null,8,["disable"]),[[j]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,d.Wm)(V,{modelValue:p.editWhereIsMyCard,"onUpdate:modelValue":a[11]||(a[11]=e=>p.editWhereIsMyCard=e),persistent:""},{default:(0,d.w5)((()=>[(0,d.Wm)(U,{style:{"min-width":"350px"}},{default:(0,d.w5)((()=>[(0,d.Wm)(f,null,{default:(0,d.w5)((()=>[h])),_:1}),(0,d.Wm)(f,{class:"q-pt-none"},{default:(0,d.w5)((()=>[(0,d.Wm)(_,{dense:"",modelValue:p.txtCardHolder,"onUpdate:modelValue":a[6]||(a[6]=e=>p.txtCardHolder=e),autofocus:"",label:"Inhaber"},null,8,["modelValue"]),(0,d._)("div",u,[(0,d._)("div",m,[(0,d._)("div",null,[(0,d.Wm)(q,{"left-label":"",modelValue:p.boolDiscounted,"onUpdate:modelValue":a[7]||(a[7]=e=>p.boolDiscounted=e),label:"Kind"},null,8,["modelValue"])])])]),(0,d.Wm)(_,{dense:"",modelValue:p.txtWhoHasTheCard,"onUpdate:modelValue":a[8]||(a[8]=e=>p.txtWhoHasTheCard=e),autofocus:"",label:"Wer hat die Karte"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(k),(0,d.Wm)(v,{class:"text-primary",align:"right"},{default:(0,d.w5)((()=>[p.IsAdministrator?((0,d.wg)(),(0,d.j4)(I,{key:0,icon:"delete",color:"primary",onClick:a[9]||(a[9]=e=>p.delWhereIsMyCard=!0)})):(0,d.kq)("",!0),(0,d.wy)((0,d.Wm)(I,{flat:"",label:"Abbrechen"},null,512),[[j]]),(0,d.wy)((0,d.Wm)(I,{icon:"save",label:"Speichern",onClick:a[10]||(a[10]=e=>w.editWhereIsMyCardSave(p.txtCardHolderId,p.txtCardHolder,p.boolDiscounted,p.txtWhoHasTheCard)),disable:""===p.txtCardHolder},null,8,["disable"]),[[j]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,d.Wm)(V,{modelValue:p.delWhereIsMyCard,"onUpdate:modelValue":a[13]||(a[13]=e=>p.delWhereIsMyCard=e),persistent:""},{default:(0,d.w5)((()=>[(0,d.Wm)(U,null,{default:(0,d.w5)((()=>[(0,d.Wm)(f,{class:"row items-center"},{default:(0,d.w5)((()=>[(0,d.Wm)(T,{icon:"delete",color:"primary","text-color":"white"}),W])),_:1}),(0,d.Wm)(v,{align:"right"},{default:(0,d.w5)((()=>[(0,d.wy)((0,d.Wm)(I,{flat:"",label:"Nein",color:"primary"},null,512),[[j]]),(0,d.wy)((0,d.Wm)(I,{flat:"",label:"Ja",color:"primary",onClick:a[12]||(a[12]=e=>w.deleteWhereIsMyCard(p.txtCardHolderId))},null,512),[[j]])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,d.Wm)(Q,{src:"statics/BGB.jpg",class:"header-image absolute-top"})])),_:1})}t(9665);var C=t(499);const w=(0,C.iH)(""),y=(0,C.iH)(""),I=(0,C.iH)(""),b=(0,C.iH)(""),g={name:"ListWhoHasTheCard",setup(){return{IsAdministrator:(0,C.iH)(!0),txtCardHolderId:(0,C.iH)(w),txtCardHolder:(0,C.iH)(y),boolDiscounted:(0,C.iH)(I),txtWhoHasTheCard:(0,C.iH)(b),txtCardHolderNew:(0,C.iH)(""),txtDiscountedNew:(0,C.iH)(!1),txtWhoHasTheCardNew:(0,C.iH)(""),addWhereIsMyCard:(0,C.iH)(!1),editWhereIsMyCard:(0,C.iH)(!1),delWhereIsMyCard:(0,C.iH)(!1)}},data(){return{URLWhereIsMyCard:"https://script.google.com/macros/s/AKfycbzlc-2httq6jMOsqbGIQmE6oAXNcWpLRZmGckDWQ6DqFoGQgHD-C1BkennQGntzAkJj/exec?ID=1AA2nnIb886xaBjpSaxwf2JNtujKnJc4xSVR-ChRGs2U&SH=BGB-WhereIsMyCard",whereIsMyCardObject:[{cardHolder:"",discounted:"",whoHasTheCard:"",cardHolderId:""}]}},computed:{},mounted(){this.getTableWhereIsMyCard()},methods:{getTableWhereIsMyCard(){this.whereIsMyCardObject=[],console.log("URLWhereIsMyCard: "+this.URLWhereIsMyCard+"&func=Read&cardholder="),this.$axios(`${this.URLWhereIsMyCard}&func=Read&cardholder=`).then((e=>{this.tableWhereIsMyCard=e.data.split("\n");for(let a=0;a<this.tableWhereIsMyCard.length-1;a++){const e=this.tableWhereIsMyCard[a].split(",");this.setWhereIsMyCardObject(e[2],e[3],e[4],e[5])}console.log(this.whereIsMyCardObject)})).catch((e=>{console.log(e)}))},setWhereIsMyCardObject(e,a,t,d){this.whereIsMyCardObject.push({cardHolder:e,discounted:a,whoHasTheCard:t,cardHolderId:d})},onWhereIsMyCardClick(e,a,t,d){console.log("Clicked on WhereIsMyCard: "+e+", "+a+", "+t+", "+d),w.value=e,y.value=a,I.value="TRUE"===t,b.value=d,this.editWhereIsMyCard=!0},addWhereIsMyCardSave(e,a,t){console.log("addWhereIsMyCardSave: "+e+", "+a+", "+t),this.$axios(`${this.URLWhereIsMyCard}&func=Add&cardholder=${encodeURI(e.replace(","," "))}&discounted=${a}&whohasthecard=${encodeURI(t.replace(",",""))}`).then((e=>{"Success, requested action completed"===e.data&&this.getTableWhereIsMyCard()})).catch((e=>{console.log(e)}))},editWhereIsMyCardSave(e,a,t,d){console.log("editWhereIsMyCardSave: "+e+", "+a+", "+t+", "+d),this.$axios(`${this.URLWhereIsMyCard}&func=Update&cardholderId=${e}&cardholder=${encodeURI(a.replace(","," "))}&discounted=${t}&whohasthecard=${encodeURI(d.replace(",",""))}`).then((e=>{"Success, requested action completed"===e.data&&this.getTableWhereIsMyCard()})).catch((e=>{console.log(e)}))},deleteWhereIsMyCard(e){console.log("deleteWhereIsMyCard: "+e),this.$axios(`${this.URLWhereIsMyCard}&func=Delete&cardholderId=${e}`).then((e=>{"Success, requested action completed"===e.data&&(this.getTableWhereIsMyCard(),this.editWhereIsMyCard=!1)})).catch((e=>{console.log(e)}))}}};var x=t(1639),H=t(9885),M=t(1663),f=t(1973),_=t(8879),q=t(3246),k=t(490),v=t(1233),U=t(3115),V=t(2074),T=t(4458),Q=t(3190),Z=t(6611),R=t(1006),j=t(926),N=t(1821),S=t(1357),D=t(335),$=t(1136),A=t(2146),K=t(9984),L=t.n(K);const O=(0,x.Z)(g,[["render",p]]),B=O;L()(g,"components",{QPage:H.Z,QToolbar:M.Z,QToolbarTitle:f.Z,QBtn:_.Z,QList:q.Z,QItem:k.Z,QItemSection:v.Z,QItemLabel:U.Z,QDialog:V.Z,QCard:T.Z,QCardSection:Q.Z,QInput:Z.Z,QCheckbox:R.Z,QSeparator:j.Z,QCardActions:N.Z,QAvatar:S.Z,QImg:D.Z}),L()(g,"directives",{Ripple:$.Z,ClosePopup:A.Z})}}]);